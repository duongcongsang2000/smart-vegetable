{"ast":null,"code":"import _slicedToArray from\"D:/Vegetable-iot/smart-vegetable/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{Chart as ChartJS,LineElement,PointElement,CategoryScale,LinearScale,Legend,Tooltip,Title}from\"chart.js\";import{Line}from\"react-chartjs-2\";import Axios from\"axios\";import\"./LineChart.css\";import{jsx as _jsx}from\"react/jsx-runtime\";ChartJS.register(Legend,Tooltip,Title,CategoryScale,LinearScale,LineElement,PointElement);var LineChart=function LineChart(option){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),dhtList=_useState2[0],setDhtList=_useState2[1];var days=[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"];var data={labels:[],datasets:[{label:\"Temperature (°C)\",data:dhtList.map(function(item){return item.temperature;}),backgroundColor:\"transparent\",borderColor:\"red\",borderWidth:4},{label:\"Humidity (%)\",data:dhtList.map(function(item){return item.humidity;}),backgroundColor:\"transparent\",borderColor:\"green\",borderWidth:4}]};var options={// responsive: true,\nmaintainAspectRatio:false,scales:{y:{beginAtZero:true},xAxisID:{title:{display:true,text:\"Time\",color:\"#000\",font:{size:20}},ticks:{display:true}},yAxisID:{title:{display:true,text:\"Value\",color:\"#000\",font:{size:20}},ticks:{display:false},grid:{display:false}}},plugins:{legend:{position:\"top\",labels:{font:{size:18}}},title:{display:true,text:\"Temperature And Humidity Chart\",color:\"#000\",font:{size:24}}}};useEffect(function(){if(option.option!==\"current\"){Axios.get(\"https://smart-vegetable.herokuapp.com/dhts/\".concat(option.option)).then(function(response){setDhtList(response.data);});}},[option]);useEffect(function(){if(option.option===\"current\"){Axios.get(\"https://smart-vegetable.herokuapp.com/dhts/\".concat(option.option)).then(function(response){setDhtList(response.data);});}});if(option.option===\"current\"){data.labels=dhtList.map(function(item){return new Date(item.created_at).getHours()+\":\"+new Date(item.created_at).getMinutes()+\":\"+new Date(item.created_at).getSeconds();});}else if(option.option===\"latest_3_days\"){data.labels=dhtList.map(function(item){return days[new Date(item.Days).getDay()];});}else if(option.option===\"week\"){data.labels=dhtList.map(function(item){return days[item.Days-1];});}else if(option.option===\"month\"){data.labels=dhtList.map(function(item){return item.Days;});}// console.log(data.labels);\nreturn/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"article\",{className:\"canvas-container\",children:/*#__PURE__*/_jsx(Line,{data:data,options:options})})});};export default LineChart;","map":{"version":3,"names":["React","useEffect","useState","Chart","ChartJS","LineElement","PointElement","CategoryScale","LinearScale","Legend","Tooltip","Title","Line","Axios","register","LineChart","option","dhtList","setDhtList","days","data","labels","datasets","label","map","item","temperature","backgroundColor","borderColor","borderWidth","humidity","options","maintainAspectRatio","scales","y","beginAtZero","xAxisID","title","display","text","color","font","size","ticks","yAxisID","grid","plugins","legend","position","get","then","response","Date","created_at","getHours","getMinutes","getSeconds","Days","getDay"],"sources":["D:/Vegetable-iot/smart-vegetable/src/components/LineChart.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport {\r\n    Chart as ChartJS,\r\n    LineElement,\r\n    PointElement,\r\n    CategoryScale,\r\n    LinearScale,\r\n    Legend,\r\n    Tooltip,\r\n    Title,\r\n} from \"chart.js\";\r\nimport { Line } from \"react-chartjs-2\";\r\nimport Axios from \"axios\";\r\nimport \"./LineChart.css\";\r\n\r\nChartJS.register(Legend, Tooltip, Title, CategoryScale, LinearScale, LineElement, PointElement);\r\n\r\nconst LineChart = (option) => {\r\n    var [dhtList, setDhtList] = useState([]);\r\n\r\n    var days = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\r\n    var data = {\r\n        labels: [],\r\n        datasets: [\r\n            {\r\n                label: \"Temperature (°C)\",\r\n                data: dhtList.map((item) => {\r\n                    return item.temperature;\r\n                }),\r\n                backgroundColor: \"transparent\",\r\n                borderColor: \"red\",\r\n                borderWidth: 4,\r\n            },\r\n            {\r\n                label: \"Humidity (%)\",\r\n                data: dhtList.map((item) => {\r\n                    return item.humidity;\r\n                }),\r\n                backgroundColor: \"transparent\",\r\n                borderColor: \"green\",\r\n                borderWidth: 4,\r\n            },\r\n        ],\r\n    };\r\n\r\n    var options = {\r\n        // responsive: true,\r\n        maintainAspectRatio: false,\r\n        scales: {\r\n            y: {\r\n                beginAtZero: true,\r\n            },\r\n            xAxisID: {\r\n                title: {\r\n                    display: true,\r\n                    text: \"Time\",\r\n                    color: \"#000\",\r\n                    font: {\r\n                        size: 20,\r\n                    },\r\n                },\r\n                ticks: {\r\n                    display: true,\r\n                },\r\n            },\r\n            yAxisID: {\r\n                title: {\r\n                    display: true,\r\n                    text: \"Value\",\r\n                    color: \"#000\",\r\n                    font: {\r\n                        size: 20,\r\n                    },\r\n                },\r\n                ticks: {\r\n                    display: false,\r\n                },\r\n                grid: {\r\n                    display: false,\r\n                },\r\n            },\r\n        },\r\n        plugins: {\r\n            legend: {\r\n                position: \"top\",\r\n                labels: {\r\n                    font: {\r\n                        size: 18,\r\n                    },\r\n                },\r\n            },\r\n            title: {\r\n                display: true,\r\n                text: \"Temperature And Humidity Chart\",\r\n                color: \"#000\",\r\n                font: {\r\n                    size: 24,\r\n                },\r\n            },\r\n        },\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (option.option !== \"current\") {\r\n            Axios.get(`https://smart-vegetable.herokuapp.com/dhts/${option.option}`).then((response) => {\r\n                setDhtList(response.data);\r\n            });\r\n        }\r\n    }, [option]);\r\n\r\n    useEffect(() => {\r\n        if (option.option === \"current\") {\r\n            Axios.get(`https://smart-vegetable.herokuapp.com/dhts/${option.option}`).then((response) => {\r\n                setDhtList(response.data);\r\n            });\r\n        }\r\n    });\r\n\r\n    if (option.option === \"current\") {\r\n        data.labels = dhtList.map((item) => {\r\n            return (\r\n                new Date(item.created_at).getHours() +\r\n                \":\" +\r\n                new Date(item.created_at).getMinutes() +\r\n                \":\" +\r\n                new Date(item.created_at).getSeconds()\r\n            );\r\n        });\r\n    } else if (option.option === \"latest_3_days\") {\r\n        data.labels = dhtList.map((item) => {\r\n            return days[new Date(item.Days).getDay()];\r\n        });\r\n    } else if (option.option === \"week\") {\r\n        data.labels = dhtList.map((item) => {\r\n            return days[item.Days - 1];\r\n        });\r\n    } else if (option.option === \"month\") {\r\n        data.labels = dhtList.map((item) => {\r\n            return item.Days;\r\n        });\r\n    }\r\n    // console.log(data.labels);\r\n\r\n    return (\r\n        <div>\r\n            <article className=\"canvas-container\">\r\n                <Line data={data} options={options} />\r\n            </article>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default LineChart;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}