{"ast":null,"code":"import _asyncToGenerator from\"F:/Study_at_PTITHCM/PTITHCM_DT1/2021-2022_Ki_2_NH/Thuc_Hanh_Chuyen_Sau/Bao_Cao_Thay_Duy/Code_WebServer/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"F:\\\\Study_at_PTITHCM\\\\PTITHCM_DT1\\\\2021-2022_Ki_2_NH\\\\Thuc_Hanh_Chuyen_Sau\\\\Bao_Cao_Thay_Duy\\\\Code_WebServer\\\\client\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import axios from\"axios\";export var loginUser=function loginUser(user){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch({type:\"USER_LOGIN_REQUEST\"});_context.prev=1;_context.next=4;return axios.post(\"https://smart-vegetable.herokuapp.com/login\",user);case 4:response=_context.sent;console.log(response);dispatch({type:\"USER_LOGIN_SUCCESS\",payload:response.data});localStorage.setItem(\"currentUser\",JSON.stringify(response.data));window.location.href=process.env.PUBLIC_URL+\"/control\";_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](1);dispatch({type:\"USER_LOGIN_FAILED\",payload:_context.t0});case 14:case\"end\":return _context.stop();}}},_callee,null,[[1,11]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var logoutUser=function logoutUser(user){return function(dispatch){localStorage.removeItem(\"currentUser\");window.location.href=process.env.PUBLIC_URL+\"/login\";};};","map":{"version":3,"names":["axios","loginUser","user","dispatch","type","post","response","console","log","payload","data","localStorage","setItem","JSON","stringify","window","location","href","process","env","PUBLIC_URL","logoutUser","removeItem"],"sources":["F:/Study_at_PTITHCM/PTITHCM_DT1/2021-2022_Ki_2_NH/Thuc_Hanh_Chuyen_Sau/Bao_Cao_Thay_Duy/Code_WebServer/client/src/actions/userAction.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nexport const loginUser = (user) => async (dispatch) => {\r\n    dispatch({ type: \"USER_LOGIN_REQUEST\" });\r\n\r\n    try {\r\n        const response = await axios.post(\"https://smart-vegetable.herokuapp.com/login\", user);\r\n        console.log(response);\r\n        dispatch({ type: \"USER_LOGIN_SUCCESS\", payload: response.data });\r\n        localStorage.setItem(\"currentUser\", JSON.stringify(response.data));\r\n        window.location.href = process.env.PUBLIC_URL + \"/control\";\r\n    } catch (error) {\r\n        dispatch({ type: \"USER_LOGIN_FAILED\", payload: error });\r\n    }\r\n};\r\n\r\nexport const logoutUser = (user) => (dispatch) => {\r\n    localStorage.removeItem(\"currentUser\");\r\n    window.location.href = process.env.PUBLIC_URL + \"/login\";\r\n};\r\n"],"mappings":"qZAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,MAAO,IAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,IAAD,iGAAU,iBAAOC,QAAP,+HAC/BA,QAAQ,CAAC,CAAEC,IAAI,CAAE,oBAAR,CAAD,CAAR,CAD+B,sCAIJJ,CAAAA,KAAK,CAACK,IAAN,CAAW,6CAAX,CAA0DH,IAA1D,CAJI,QAIrBI,QAJqB,eAK3BC,OAAO,CAACC,GAAR,CAAYF,QAAZ,EACAH,QAAQ,CAAC,CAAEC,IAAI,CAAE,oBAAR,CAA8BK,OAAO,CAAEH,QAAQ,CAACI,IAAhD,CAAD,CAAR,CACAC,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAoCC,IAAI,CAACC,SAAL,CAAeR,QAAQ,CAACI,IAAxB,CAApC,EACAK,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuBC,OAAO,CAACC,GAAR,CAAYC,UAAZ,CAAyB,UAAhD,CAR2B,iFAU3BjB,QAAQ,CAAC,CAAEC,IAAI,CAAE,mBAAR,CAA6BK,OAAO,YAApC,CAAD,CAAR,CAV2B,qEAAV,gEAAlB,CAcP,MAAO,IAAMY,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACnB,IAAD,QAAU,UAACC,QAAD,CAAc,CAC9CQ,YAAY,CAACW,UAAb,CAAwB,aAAxB,EACAP,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuBC,OAAO,CAACC,GAAR,CAAYC,UAAZ,CAAyB,QAAhD,CACH,CAHyB,EAAnB"},"metadata":{},"sourceType":"module"}